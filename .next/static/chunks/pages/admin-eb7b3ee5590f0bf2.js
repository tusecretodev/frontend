(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{3510:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(1373);let a=(0,t.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9589:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(1373);let a=(0,t.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6989:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(1373);let a=(0,t.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},116:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(1373);let a=(0,t.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},577:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(747)}])},1059:function(e,s,r){"use strict";r.d(s,{Z:function(){return LoginModal}});var t=r(5893),a=r(7294),l=r(7066),o=r(1955),i=r(6893);function LoginModal(e){let{onClose:s,onLogin:r}=e,[n,c]=(0,a.useState)(!0),[d,x]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,u]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[y,b]=(0,a.useState)(""),handleSubmit=async e=>{e.preventDefault(),v(!0),b("");try{let e=n?"/api/auth/login":"/api/auth/register",s=await l.Z.post(e,{username:d,password:m});o.Z.set("token",s.data.token,{expires:7}),o.Z.set("username",d,{expires:7}),r(d)}catch(e){var s,t;b((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Error en la autenticaci\xf3n")}finally{v(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:(0,t.jsxs)("div",{className:"bg-gray-dark border border-gray-medium rounded-lg p-6 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i._fJ,{size:24,className:"animate-pulse"}),"Iniciar Sesi\xf3n"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.zy7,{size:24,className:"animate-bounce"}),"Crear Cuenta"]})}),(0,t.jsx)("button",{onClick:s,className:"text-gray-light hover:text-white transition-all duration-300 hover:rotate-90",children:(0,t.jsx)(i.q5L,{size:24})})]}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Usuario"}),(0,t.jsx)("input",{type:"text",id:"username",value:d,onChange:e=>x(e.target.value),className:"w-full bg-gray-medium border border-gray-light rounded-lg px-3 py-2 text-white placeholder-gray-light focus:outline-none focus:border-white",placeholder:"Ingresa tu usuario",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Contrase\xf1a"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:p?"text":"password",id:"password",value:m,onChange:e=>g(e.target.value),className:"w-full bg-gray-medium border border-gray-light rounded-lg px-3 py-2 pr-10 text-white placeholder-gray-light focus:outline-none focus:border-white",placeholder:"Ingresa tu contrase\xf1a",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>u(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-light hover:text-white",children:p?(0,t.jsx)(i.rzC,{size:20}):(0,t.jsx)(i.rDJ,{size:20})})]})]}),y&&(0,t.jsx)("div",{className:"text-red-400 text-sm",children:y}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-white text-black py-2 rounded-lg font-medium hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover:scale-105",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),"Cargando..."]}):(0,t.jsx)(t.Fragment,{children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i._fJ,{size:16,className:"group-hover:translate-x-1 transition-transform"}),"Iniciar Sesi\xf3n"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.zy7,{size:16,className:"group-hover:scale-110 transition-transform"}),"Crear Cuenta"]})})})]}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("button",{onClick:()=>c(!n),className:"text-gray-light hover:text-white transition-colors text-sm",children:n?"\xbfNo tienes cuenta? Reg\xedstrate":"\xbfYa tienes cuenta? Inicia sesi\xf3n"})}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-gray-light text-center",children:[(0,t.jsx)("p",{children:"No solicitamos email ni informaci\xf3n personal."}),(0,t.jsx)("p",{children:"Tu anonimato est\xe1 garantizado."})]})]})})}},747:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return AdminPanel}});var t=r(5893),a=r(7294),l=r(1163),o=r(7066),i=r(1955),n=r(6893),c=r(7435),d=r(1059),x=r(116),m=r(9589),g=r(3510),p=r(6989),u=r(1373);let h=(0,u.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),v=(0,u.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y=(0,u.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),b=(0,u.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),j=(0,u.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var components_AnnouncementManager=e=>{let{className:s=""}=e,[r,l]=(0,a.useState)([]),[o,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,f]=(0,a.useState)(null),[N,k]=(0,a.useState)({title:"",content:"",type:"info",isActive:!0});(0,a.useEffect)(()=>{fetchAnnouncements()},[]);let fetchAnnouncements=async()=>{try{let e=i.Z.get("token"),s=await fetch("/api/admin/announcements",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();l(e)}}catch(e){console.error("Error fetching announcements:",e)}finally{n(!1)}},handleSubmit=async e=>{e.preventDefault();try{let e=i.Z.get("token"),s=u?"/api/admin/announcements/".concat(u.id):"/api/admin/announcements",r=await fetch(s,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(N)});r.ok&&(fetchAnnouncements(),resetForm())}catch(e){console.error("Error saving announcement:",e)}},handleDelete=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar este anuncio?"))try{let s=i.Z.get("token"),r=await fetch("/api/admin/announcements/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});r.ok&&fetchAnnouncements()}catch(e){console.error("Error deleting announcement:",e)}},handleToggleActive=async e=>{try{let s=i.Z.get("token"),r=await fetch("/api/admin/announcements/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({isActive:!e.isActive})});r.ok&&fetchAnnouncements()}catch(e){console.error("Error toggling announcement:",e)}},resetForm=()=>{k({title:"",content:"",type:"info",isActive:!0}),d(!1),f(null)},startEdit=e=>{k({title:e.title,content:e.content,type:e.type,isActive:e.isActive}),f(e),d(!0)},getTypeIcon=e=>{switch(e){case"warning":return(0,t.jsx)(x.Z,{className:"w-4 h-4"});case"success":return(0,t.jsx)(m.Z,{className:"w-4 h-4"});case"error":return(0,t.jsx)(g.Z,{className:"w-4 h-4"});default:return(0,t.jsx)(p.Z,{className:"w-4 h-4"})}},getTypeColor=e=>{switch(e){case"warning":return"text-yellow-600 dark:text-yellow-400";case"success":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-blue-600 dark:text-blue-400"}};return o?(0,t.jsxs)("div",{className:"animate-pulse space-y-4 ".concat(s),children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]}):(0,t.jsxs)("div",{className:s,children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gesti\xf3n de Anuncios"}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(h,{className:"w-4 h-4"}),"Nuevo Anuncio"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===r.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No hay anuncios creados"}):r.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4 ".concat(e.isActive?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900"," border-gray-200 dark:border-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:getTypeColor(e.type),children:getTypeIcon(e.type)}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.title}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.isActive?"Activo":"Inactivo"})]}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:e.content}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Creado por ",e.createdBy," • ",new Date(e.createdAt).toLocaleDateString("es-ES"),e.updatedAt&&(0,t.jsxs)("span",{children:[" • Editado ",new Date(e.updatedAt).toLocaleDateString("es-ES")]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>handleToggleActive(e),className:"p-2 rounded-lg transition-colors ".concat(e.isActive?"text-green-600 hover:bg-green-100 dark:hover:bg-green-900":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"),title:e.isActive?"Desactivar":"Activar",children:e.isActive?(0,t.jsx)(v,{className:"w-4 h-4"}):(0,t.jsx)(y,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>startEdit(e),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900 rounded-lg transition-colors",title:"Editar",children:(0,t.jsx)(b,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>handleDelete(e.id),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors",title:"Eliminar",children:(0,t.jsx)(j,{className:"w-4 h-4"})})]})]})},e.id))}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:u?"Editar Anuncio":"Crear Nuevo Anuncio"}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"T\xedtulo"}),(0,t.jsx)("input",{type:"text",value:N.title,onChange:e=>k({...N,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contenido"}),(0,t.jsx)("textarea",{value:N.content,onChange:e=>k({...N,content:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo"}),(0,t.jsxs)("select",{value:N.type,onChange:e=>k({...N,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,t.jsx)("option",{value:"info",children:"Informaci\xf3n"}),(0,t.jsx)("option",{value:"warning",children:"Advertencia"}),(0,t.jsx)("option",{value:"success",children:"\xc9xito"}),(0,t.jsx)("option",{value:"error",children:"Error"})]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"isActive",checked:N.isActive,onChange:e=>k({...N,isActive:e.target.checked}),className:"mr-2"}),(0,t.jsx)("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-300",children:"Anuncio activo"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors",children:u?"Actualizar":"Crear"}),(0,t.jsx)("button",{type:"button",onClick:resetForm,className:"flex-1 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]})]})})})]})};function IPLogsPanel(){let[e,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)("all"),[x,m]=(0,a.useState)("");(0,a.useEffect)(()=>{fetchIPLogs()},[]);let fetchIPLogs=async()=>{try{let e=i.Z.get("token"),r=await o.Z.get("/api/admin/ip-logs",{headers:{Authorization:"Bearer ".concat(e)}});s(r.data)}catch(e){console.error("Error fetching IP logs:",e)}finally{l(!1)}},getTypeIcon=e=>{switch(e){case"secret_creation":return(0,t.jsx)(n.rDJ,{className:"text-blue-500"});case"user_registration":return(0,t.jsx)(n.fzv,{className:"text-green-500"});case"user_login":return(0,t.jsx)(n.bfl,{className:"text-purple-500"});case"vpn_attempt_blocked":return(0,t.jsx)(n.MJI,{className:"text-red-500"});case"fingerprint_submit":return(0,t.jsx)(n.H_J,{className:"text-orange-500"});default:return(0,t.jsx)(n.bAx,{className:"text-gray-500"})}},getTypeLabel=e=>{switch(e){case"secret_creation":return"Crear Secreto";case"user_registration":return"Registro";case"user_login":return"Login";case"vpn_attempt_blocked":return"VPN Bloqueado";case"fingerprint_submit":return"Fingerprint";default:return e}},g=e.filter(e=>!!(("all"===c||e.type===c)&&(!x||e.ip.includes(x)||e.username.toLowerCase().includes(x.toLowerCase()))));return r?(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"var(--accent-primary)"}})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.RsK,{size:20,style:{color:"var(--text-primary)"}}),(0,t.jsxs)("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:["Logs de IP - ",g.length," registros"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-2 rounded-lg border text-sm",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[(0,t.jsx)("option",{value:"all",children:"Todos los tipos"}),(0,t.jsx)("option",{value:"secret_creation",children:"Secretos"}),(0,t.jsx)("option",{value:"user_registration",children:"Registros"}),(0,t.jsx)("option",{value:"user_login",children:"Logins"}),(0,t.jsx)("option",{value:"vpn_attempt_blocked",children:"VPN Bloqueados"}),(0,t.jsx)("option",{value:"fingerprint_submit",children:"Fingerprints"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar IP o usuario...",value:x,onChange:e=>m(e.target.value),className:"px-3 py-2 rounded-lg border text-sm min-w-[200px]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"}})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"rounded-lg p-3 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"VPNs Bloqueados"}),(0,t.jsx)("div",{className:"text-xl font-bold text-red-500",children:e.filter(e=>"vpn_attempt_blocked"===e.type).length})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secretos Creados"}),(0,t.jsx)("div",{className:"text-xl font-bold text-blue-500",children:e.filter(e=>"secret_creation"===e.type).length})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registros"}),(0,t.jsx)("div",{className:"text-xl font-bold text-green-500",children:e.filter(e=>"user_registration"===e.type).length})]}),(0,t.jsxs)("div",{className:"rounded-lg p-3 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"IPs \xdanicas"}),(0,t.jsx)("div",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:new Set(e.map(e=>e.ip)).size})]})]}),(0,t.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:0===g.length?(0,t.jsx)("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:"No hay logs que coincidan con los filtros"}):g.slice(0,100).map(e=>{var s,r;return(0,t.jsx)("div",{className:"rounded-lg p-4 border transition-all duration-300 hover:scale-[1.01]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:getTypeIcon(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:getTypeLabel(e.type)}),(null===(s=e.vpnCheck)||void 0===s?void 0:s.isVPN)&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500/20 text-red-500 font-medium",children:"VPN"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"IP:"})," ",e.ip]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Usuario:"})," ",e.username]}),e.secretTitle&&(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Secreto:"})," ",e.secretTitle]}),e.vpnCheck&&(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"VPN:"}),(0,t.jsxs)("span",{className:e.vpnCheck.isVPN?"text-red-400":"text-green-400",children:[" ",e.vpnCheck.isVPN?"DETECTADO":"LIMPIO"," (",e.vpnCheck.confidence,"%)"]}),e.vpnCheck.reason&&(0,t.jsx)("span",{className:"text-xs block text-gray-400 mt-1",children:e.vpnCheck.reason})]}),(null===(r=e.clientInfo)||void 0===r?void 0:r.userAgent)&&(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"UA:"}),(0,t.jsxs)("span",{className:"text-xs break-all",children:[" ",e.clientInfo.userAgent.substring(0,80),"..."]})]})]})]})]}),(0,t.jsx)("div",{className:"text-xs text-right",style:{color:"var(--text-tertiary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.TCC,{size:12}),new Date(e.timestamp).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})})]})},e.id)})}),g.length>100&&(0,t.jsxs)("div",{className:"text-center text-sm",style:{color:"var(--text-secondary)"},children:["Mostrando los primeros 100 resultados de ",g.length]})]})}function UserDetailsModal(e){var s;let{username:r,onClose:l,onBanUser:c,onUnbanUser:d}=e,[x,m]=(0,a.useState)(null),[g,p]=(0,a.useState)(!0),[u,h]=(0,a.useState)("overview");(0,a.useEffect)(()=>{fetchUserDetails()},[r]);let fetchUserDetails=async()=>{try{let e=i.Z.get("token"),s=await o.Z.get("/api/admin/users/".concat(r,"/details"),{headers:{Authorization:"Bearer ".concat(e)}});m(s.data)}catch(e){console.error("Error fetching user details:",e)}finally{p(!1)}},getRiskColor=e=>e<30?"text-green-500":e<70?"text-yellow-500":"text-red-500",getActivityTypeIcon=e=>{switch(e){case"secret_creation":return(0,t.jsx)(n.rDJ,{className:"text-blue-500"});case"user_registration":return(0,t.jsx)(n.fzv,{className:"text-green-500"});case"user_login":return(0,t.jsx)(n.bfl,{className:"text-purple-500"});case"vpn_attempt_blocked":return(0,t.jsx)(n.MJI,{className:"text-red-500"});case"fingerprint_submit":return(0,t.jsx)(n.H_J,{className:"text-orange-500"});default:return(0,t.jsx)(n.bAx,{className:"text-gray-500"})}},getActivityTypeLabel=e=>{switch(e){case"secret_creation":return"Secreto Creado";case"user_registration":return"Registro";case"user_login":return"Login";case"vpn_attempt_blocked":return"VPN Bloqueado";case"fingerprint_submit":return"Fingerprint";default:return e}};if(g)return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:(0,t.jsx)("div",{className:"rounded-lg p-8 border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2",style:{borderColor:"var(--accent-primary)"}}),(0,t.jsx)("span",{style:{color:"var(--text-primary)"},children:"Cargando detalles del usuario..."})]})})});if(!x)return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:(0,t.jsx)("div",{className:"rounded-lg p-8 border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(n.$Rx,{size:48,className:"text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Error al cargar usuario"}),(0,t.jsx)("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"No se pudieron cargar los detalles del usuario"}),(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:"Cerrar"})]})})});let v=(s=x.security.riskScore)<30?{label:"Bajo",color:"bg-green-500/20 text-green-500"}:s<70?{label:"Medio",color:"bg-yellow-500/20 text-yellow-500"}:{label:"Alto",color:"bg-red-500/20 text-red-500"};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999] p-4",children:(0,t.jsxs)("div",{className:"rounded-lg w-full max-w-6xl max-h-[85vh] border overflow-hidden relative",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",marginTop:"4rem"},children:[(0,t.jsx)("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold",style:{backgroundColor:x.basic.isBanned?"#ef4444":"var(--accent-primary)",color:x.basic.isBanned?"#ffffff":"var(--text-on-accent)"},children:x.basic.username.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:x.basic.username}),x.basic.isBanned&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm bg-red-500/20 text-red-500 font-medium",children:"BANEADO"}),(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v.color),children:["Riesgo ",v.label]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm mt-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.vlc,{size:14}),"Registrado hace ",x.security.accountAge," d\xedas"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.RsK,{size:14}),x.technical.uniqueIPs," IPs \xfanicas"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.bAx,{size:14}),x.activity.totalLogs," actividades"]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[x.basic.isBanned?(0,t.jsxs)("button",{onClick:()=>d(x.basic.username),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,t.jsx)(n._rq,{size:16}),"Desbanear"]}):(0,t.jsxs)("button",{onClick:()=>c(x.basic.username),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,t.jsx)(n.$Rx,{size:16}),"Banear"]}),(0,t.jsx)("button",{onClick:l,className:"p-2 rounded-lg transition-colors hover:rotate-90",style:{color:"var(--text-secondary)"},children:(0,t.jsx)(n.q5L,{size:24})})]})]})}),(0,t.jsx)("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:(0,t.jsx)("div",{className:"flex overflow-x-auto",children:[{id:"overview",label:"Resumen",icon:n.fzv},{id:"security",label:"Seguridad",icon:n.bfl},{id:"technical",label:"T\xe9cnico",icon:n.hRw},{id:"activity",label:"Actividad",icon:n.bAx},{id:"timeline",label:"Timeline",icon:n.TCC}].map(e=>{let{id:s,label:r,icon:a}=e;return(0,t.jsxs)("button",{onClick:()=>h(s),className:"flex items-center gap-2 px-6 py-4 font-medium transition-all duration-300 border-b-2 ".concat(u===s?"border-current":"border-transparent"),style:{color:u===s?"var(--accent-primary)":"var(--text-secondary)"},children:[(0,t.jsx)(a,{size:16}),r]},s)})})}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-180px)]",children:["overview"===u&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.rDJ,{className:"text-blue-500"}),"Estad\xedsticas de Contenido"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:x.content.secretsCount}),(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secretos"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-500",children:x.content.commentsCount}),(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Comentarios"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-500",children:x.content.likesGiven}),(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Likes Dados"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:x.content.totalViews}),(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Vistas Totales"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.bfl,{className:"text-orange-500"}),"An\xe1lisis de Seguridad"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Puntuaci\xf3n de Riesgo"}),(0,t.jsxs)("span",{className:"font-bold ".concat(getRiskColor(x.security.riskScore)),children:[x.security.riskScore,"/100"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Intentos VPN"}),(0,t.jsx)("span",{className:"font-bold text-red-500",children:x.security.vpnAttempts})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:"IPs \xdanicas"}),(0,t.jsx)("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:x.technical.uniqueIPs})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Dispositivos"}),(0,t.jsx)("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:x.fingerprinting.devices.length})]})]}),x.security.suspiciousActivity.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-red-500",children:"Actividad Sospechosa:"}),(0,t.jsx)("ul",{className:"text-sm space-y-1",children:x.security.suspiciousActivity.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.BJv,{size:12,className:"text-red-500"}),(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:e})]},s))})]})]}),x.activity.recentSecrets.length>0&&(0,t.jsxs)("div",{className:"lg:col-span-2 rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.rDJ,{className:"text-blue-500"}),"Secretos Recientes"]}),(0,t.jsx)("div",{className:"space-y-3",children:x.activity.recentSecrets.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.title}),(0,t.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:new Date(e.createdAt).toLocaleDateString("es-ES")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.rDJ,{size:14})," ",e.views]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.$aX,{size:14})," ",e.likes]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.EQ9,{size:14})," ",e.comments]})]})]},e.id))})]})]}),"security"===u&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.QqI,{className:"text-red-500"}),"An\xe1lisis de Riesgo Detallado"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-3xl font-bold ".concat(getRiskColor(x.security.riskScore)),children:x.security.riskScore}),(0,t.jsx)("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Puntuaci\xf3n de Riesgo"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-red-500",children:x.security.vpnAttempts}),(0,t.jsx)("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Intentos VPN"})]}),(0,t.jsxs)("div",{className:"text-center p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-orange-500",children:x.security.accountAge}),(0,t.jsx)("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"D\xedas de Cuenta"})]})]}),x.security.suspiciousActivity.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3 text-red-500",children:"Actividades Sospechosas Detectadas:"}),(0,t.jsx)("div",{className:"space-y-2",children:x.security.suspiciousActivity.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,t.jsx)(n.BJv,{className:"text-red-500"}),(0,t.jsx)("span",{style:{color:"var(--text-primary)"},children:e})]},s))})]})]}),(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.RsK,{className:"text-blue-500"}),"Direcciones IP Utilizadas (",x.technical.uniqueIPs,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.technical.ips.map((e,s)=>(0,t.jsx)("div",{className:"p-3 rounded-lg border font-mono text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:e},s))})]})]}),"technical"===u&&(0,t.jsxs)("div",{className:"space-y-6",children:[x.fingerprinting.devices.length>0&&(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.L$C,{className:"text-green-500"}),"Dispositivos Detectados (",x.fingerprinting.devices.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.fingerprinting.devices.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.platform}),(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-500",children:[e.usageCount," usos"]})]}),(0,t.jsxs)("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{children:["Cores: ",e.cores]}),(0,t.jsxs)("div",{children:["Idioma: ",e.language]}),(0,t.jsxs)("div",{children:["\xdaltimo: ",new Date(e.lastSeen).toLocaleDateString("es-ES")]})]})]},s))})]}),x.fingerprinting.browsers.length>0&&(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.hRw,{className:"text-purple-500"}),"Navegadores Utilizados (",x.fingerprinting.browsers.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.fingerprinting.browsers.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.name}),(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-500",children:[e.usageCount," usos"]})]}),(0,t.jsxs)("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{children:["Versiones: ",e.versions.join(", ")]}),(0,t.jsxs)("div",{children:["\xdaltimo: ",new Date(e.lastSeen).toLocaleDateString("es-ES")]})]})]},s))})]}),x.fingerprinting.locations.length>0&&(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.i63,{className:"text-orange-500"}),"Zonas Horarias Detectadas (",x.fingerprinting.locations.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.fingerprinting.locations.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.timezone}),(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-orange-500/20 text-orange-500",children:[e.usageCount," usos"]})]}),(0,t.jsxs)("div",{className:"text-sm space-y-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{children:["Offset: ",e.offset," min"]}),(0,t.jsxs)("div",{children:["\xdaltimo: ",new Date(e.lastSeen).toLocaleDateString("es-ES")]})]})]},s))})]})]}),"activity"===u&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.bAx,{className:"text-blue-500"}),"Resumen de Actividad"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(x.activity.byType).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"text-center p-3 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"flex justify-center mb-2",children:getActivityTypeIcon(s)}),(0,t.jsx)("div",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:r}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:getActivityTypeLabel(s)})]},s)})})]}),(0,t.jsxs)("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.TCC,{className:"text-green-500"}),"Distribuci\xf3n por Hora"]}),(0,t.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-2",children:Array.from({length:24},(e,s)=>{let r=x.activity.byHour[s.toString()]||0,a=Math.max(...Object.values(x.activity.byHour));return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-full h-8 rounded mb-1 border flex items-center justify-center text-xs font-medium",style:{backgroundColor:r>0?"rgba(59, 130, 246, ".concat(.1+.8*(r/Math.max(a,1)),")"):"var(--bg-primary)",borderColor:"var(--border-primary)",color:r>0?"#3b82f6":"var(--text-secondary)"},children:r}),(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[s.toString().padStart(2,"0"),"h"]})]},s)})})]})]}),"timeline"===u&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",style:{color:"var(--text-primary)"},children:[(0,t.jsx)(n.TCC,{className:"text-blue-500"}),"Timeline de Actividad (\xdaltimas 50 actividades)"]}),(0,t.jsx)("div",{className:"space-y-3",children:x.timeline.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4 p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:getActivityTypeIcon(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:getActivityTypeLabel(e.type)}),(0,t.jsx)("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.timestamp).toLocaleString("es-ES")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[(0,t.jsxs)("div",{children:["IP: ",(0,t.jsx)("span",{className:"font-mono",children:e.ip})]}),e.vpnDetected&&(0,t.jsxs)("div",{className:"text-red-500",children:["VPN Detectado (",e.confidence,"%)"]})]}),e.additionalInfo&&Object.keys(e.additionalInfo).length>0&&(0,t.jsxs)("div",{className:"mt-2 text-xs",style:{color:"var(--text-tertiary)"},children:[e.additionalInfo.secretTitle&&(0,t.jsxs)("div",{children:["Secreto: ",e.additionalInfo.secretTitle]}),e.additionalInfo.vpnReason&&(0,t.jsxs)("div",{children:["Raz\xf3n VPN: ",e.additionalInfo.vpnReason]})]})]})]},e.id))})]})]})]})})}function AdminPanel(){let e=(0,l.useRouter)(),[s,r]=(0,a.useState)(null),[x,m]=(0,a.useState)(!1),[g,p]=(0,a.useState)("secrets"),[u,h]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[b,j]=(0,a.useState)([]),[f,N]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[w,A]=(0,a.useState)(!0),[S,z]=(0,a.useState)(null),[D,I]=(0,a.useState)({totalSecrets:0,totalUsers:0,totalReports:0,pendingReports:0});(0,a.useEffect)(()=>{let s=i.Z.get("token"),t=i.Z.get("username");if(!s||"admin"!==t){e.push("/");return}r(t),fetchAdminData()},[]);let fetchAdminData=async()=>{try{let e=i.Z.get("token"),s={Authorization:"Bearer ".concat(e)},[r,t,a,l,n,c]=await Promise.all([o.Z.get("/api/admin/secrets",{headers:s}),o.Z.get("/api/admin/users",{headers:s}),o.Z.get("/api/admin/reports",{headers:s}),o.Z.get("/api/admin/message-reports",{headers:s}),o.Z.get("/api/admin/email-copy-logs",{headers:s}),o.Z.get("/api/admin/stats",{headers:s})]);h(r.data),y(t.data),j(a.data),N(l.data),C(n.data.logs||[]),I(c.data)}catch(e){console.error("Error fetching admin data:",e)}finally{A(!1)}},deleteSecret=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar este secreto?"))try{let s=i.Z.get("token");await o.Z.delete("/api/admin/secrets/".concat(e),{headers:{Authorization:"Bearer ".concat(s)}}),fetchAdminData()}catch(e){console.error("Error deleting secret:",e)}},banUser=async e=>{let s=prompt("\xbfCu\xe1l es la raz\xf3n para banear al usuario ".concat(e,"?"));if(null!==s&&confirm("\xbfEst\xe1s seguro de que quieres banear al usuario ".concat(e,"?")))try{let r=i.Z.get("token");await o.Z.post("/api/admin/users/".concat(e,"/ban"),{reason:s||"No se especific\xf3 una raz\xf3n"},{headers:{Authorization:"Bearer ".concat(r)}}),fetchAdminData()}catch(e){console.error("Error banning user:",e)}},unbanUser=async e=>{try{let s=i.Z.get("token");await o.Z.post("/api/admin/users/".concat(e,"/unban"),{},{headers:{Authorization:"Bearer ".concat(s)}}),fetchAdminData()}catch(e){console.error("Error unbanning user:",e)}},resolveReport=async(e,s)=>{try{let r=i.Z.get("token");await o.Z.post("/api/admin/reports/".concat(e,"/").concat(s),{},{headers:{Authorization:"Bearer ".concat(r)}}),fetchAdminData()}catch(e){console.error("Error resolving report:",e)}},resolveMessageReport=async(e,s)=>{let r="approve"!==s?prompt("Motivo de la decisi\xf3n (opcional):"):"";try{let t=i.Z.get("token");await o.Z.patch("/api/admin/message-reports/".concat(e,"/resolve"),{action:s,reason:r},{headers:{Authorization:"Bearer ".concat(t)}}),fetchAdminData(),alert("Reporte resuelto exitosamente")}catch(e){console.error("Error resolving message report:",e),alert("Error al resolver el reporte")}},handleLogout=()=>{i.Z.remove("token"),i.Z.remove("username"),r(null),e.push("/")};return w?(0,t.jsx)(c.Z,{user:s,onLogin:()=>m(!0),onLogout:handleLogout,children:(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:"var(--accent-primary)"}})})}):(0,t.jsxs)(c.Z,{user:s,onLogin:()=>m(!0),onLogout:handleLogout,children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"rounded-2xl p-4 mb-6 border backdrop-blur-sm relative overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl",style:{backgroundColor:"var(--accent-primary)"},children:(0,t.jsx)(n.bfl,{size:20,style:{color:"var(--text-on-accent)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Panel de Administraci\xf3n"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Gestiona contenido, usuarios y reportes"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/20",children:(0,t.jsx)(n.rDJ,{size:16,className:"text-blue-500"})}),(0,t.jsx)("h3",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Secretos"})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-blue-500",children:D.totalSecrets})]}),(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20",children:(0,t.jsx)(n.WY8,{size:16,className:"text-green-500"})}),(0,t.jsx)("h3",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Usuarios"})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-500",children:D.totalUsers})]}),(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/20",children:(0,t.jsx)(n.MJI,{size:16,className:"text-yellow-500"})}),(0,t.jsx)("h3",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Reportes"})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-yellow-500",children:D.totalReports})]}),(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-red-500/20",children:(0,t.jsx)(n.BJv,{size:16,className:"text-red-500"})}),(0,t.jsx)("h3",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Pendientes"})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-red-500",children:D.pendingReports})]})]}),(0,t.jsx)("div",{className:"rounded-xl p-1 mb-6 border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsx)("div",{className:"flex space-x-1",children:[{id:"secrets",label:"Secretos",icon:n.rDJ},{id:"users",label:"Usuarios",icon:n.fzv},{id:"reports",label:"Reportes",icon:n.MJI},{id:"message-reports",label:"Mensajes",icon:n.EQ9},{id:"email-logs",label:"Email Logs",icon:n.Imn},{id:"announcements",label:"Anuncios",icon:n.vWP},{id:"iplogs",label:"IP Logs",icon:n.RsK}].map(e=>{let{id:s,label:r,icon:a}=e;return(0,t.jsxs)("button",{onClick:()=>p(s),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 flex-1 justify-center text-sm",style:{backgroundColor:g===s?"var(--accent-primary)":"transparent",color:g===s?"var(--text-on-accent)":"var(--text-secondary)"},children:[(0,t.jsx)(a,{size:16}),(0,t.jsx)("span",{children:r})]},s)})})}),"secrets"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/20",children:(0,t.jsx)(n.rDJ,{size:18,className:"text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Gesti\xf3n de Secretos"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Administra y modera el contenido"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:u.map(s=>(0,t.jsx)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:"var(--accent-primary)",color:"var(--text-on-accent)"},children:s.author.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"admin"===s.author?"Admin":"An\xf3nimo"}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(s.createdAt).toLocaleDateString("es-ES")})]})]}),(0,t.jsx)("p",{className:"text-sm mb-3 line-clamp-2 break-words",style:{color:"var(--text-primary)",maxWidth:"100%",overflowWrap:"break-word"},children:s.content}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.rDJ,{size:12,className:"text-blue-500"}),(0,t.jsx)("span",{children:s.views})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.EQ9,{size:12,className:"text-green-500"}),(0,t.jsx)("span",{children:s.comments})]}),s.reports>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-red-500",children:[(0,t.jsx)(n.MJI,{size:12}),(0,t.jsx)("span",{children:s.reports})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/secret/".concat(s.id)),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:[(0,t.jsx)(n.rDJ,{size:12}),"Ver"]}),(0,t.jsxs)("button",{onClick:()=>deleteSecret(s.id),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,t.jsx)(n.Ybf,{size:12}),"Eliminar"]})]})]})},s.id))})]}),"users"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20",children:(0,t.jsx)(n.WY8,{size:18,className:"text-green-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Gesti\xf3n de Usuarios"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Administra usuarios registrados - Click para ver detalles completos"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:v.map(e=>{var s;let r=(s=e.riskScore)<30?{label:"Bajo",color:"bg-green-500/20 text-green-500"}:s<70?{label:"Medio",color:"bg-yellow-500/20 text-yellow-500"}:{label:"Alto",color:"bg-red-500/20 text-red-500"};return(0,t.jsx)("div",{onClick:()=>z(e.username),className:"rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01] cursor-pointer hover:shadow-lg",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:{backgroundColor:e.isBanned?"#ef4444":"var(--accent-primary)",color:e.isBanned?"#ffffff":"var(--text-on-accent)"},children:e.username.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:e.username}),e.isBanned&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500/20 text-red-500 font-medium",children:"BANEADO"}),(0,t.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(r.color),children:["Riesgo ",r.label]}),e.vpnAttempts>0&&(0,t.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500/20 text-red-500 font-medium",children:[e.vpnAttempts," VPN"]})]}),(0,t.jsxs)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Registrado hace ",e.accountAge," d\xedas • \xdaltima actividad: ",e.lastActivity?new Date(e.lastActivity).toLocaleDateString("es-ES"):"Nunca"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"text-center p-2 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm font-bold text-blue-500",children:e.secretsCount}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Secretos"})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm font-bold text-green-500",children:e.commentsCount}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Comentarios"})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm font-bold text-purple-500",children:e.likesGiven}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Likes"})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[(0,t.jsx)("div",{className:"text-sm font-bold",style:{color:"var(--text-primary)"},children:e.totalLogs}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Actividades"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.RsK,{size:12,className:"text-blue-500"}),(0,t.jsxs)("span",{children:[e.uniqueIPs," IPs \xfanicas"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.bfl,{size:12,className:"text-orange-500"}),(0,t.jsxs)("span",{children:["Riesgo: ",e.riskScore,"/100"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.WY8,{size:12,className:"text-green-500"}),(0,t.jsxs)("span",{children:[e.deviceCount," dispositivos"]})]})]}),e.lastIP&&(0,t.jsxs)("div",{className:"mt-2 text-xs",style:{color:"var(--text-tertiary)"},children:["\xdaltima IP: ",(0,t.jsx)("span",{className:"font-mono",children:e.lastIP})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,t.jsxs)("button",{onClick:s=>{s.stopPropagation(),z(e.username)},className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:[(0,t.jsx)(n.rDJ,{size:12}),"Detalles"]}),e.isBanned?(0,t.jsxs)("button",{onClick:s=>{s.stopPropagation(),unbanUser(e.username)},className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,t.jsx)(n._rq,{size:12}),"Desbanear"]}):(0,t.jsxs)("button",{onClick:s=>{s.stopPropagation(),banUser(e.username)},className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,t.jsx)(n.$Rx,{size:12}),"Banear"]})]})]})},e.username)})})]}),"reports"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-red-500/20",children:(0,t.jsx)(n.MJI,{size:18,className:"text-red-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Gesti\xf3n de Reportes"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Revisa y gestiona reportes"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:b.map(s=>(0,t.jsx)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"pending"===s.status?"#f59e0b":"resolved"===s.status?"#10b981":"#ef4444"}}),(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:"pending"===s.status?"rgba(245, 158, 11, 0.1)":"resolved"===s.status?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:"pending"===s.status?"#f59e0b":"resolved"===s.status?"#10b981":"#ef4444"},children:"pending"===s.status?"Pendiente":"resolved"===s.status?"Resuelto":"Rechazado"})]}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(s.createdAt).toLocaleDateString("es-ES")})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Motivo:"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:s.reason})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Secreto:"}),(0,t.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s.secretTitle})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/secret/".concat(s.secretId)),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:[(0,t.jsx)(n.rDJ,{size:12}),"Ver"]}),"pending"===s.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>resolveReport(s.id,"resolve"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,t.jsx)(n._rq,{size:12}),"Resolver"]}),(0,t.jsxs)("button",{onClick:()=>resolveReport(s.id,"dismiss"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(107, 114, 128, 0.1)",color:"#6b7280",border:"1px solid rgba(107, 114, 128, 0.2)"},children:[(0,t.jsx)(n.$Rx,{size:12}),"Desestimar"]})]})]})]})},s.id))})]}),"message-reports"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/20",children:(0,t.jsx)(n.EQ9,{size:18,className:"text-orange-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Reportes de Mensajes"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Revisa y gestiona reportes de mensajes privados"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:0===f.length?(0,t.jsxs)("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.EQ9,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No hay reportes de mensajes"})]}):f.map(e=>(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 rounded-lg bg-orange-500/20",children:(0,t.jsx)(n.EQ9,{size:14,className:"text-orange-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:"Mensaje reportado"}),(0,t.jsxs)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Reportado por ",e.reportedBy," • ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-lg text-xs font-medium ".concat("pending"===e.status?"bg-yellow-500/20 text-yellow-600":"approved"===e.status?"bg-green-500/20 text-green-600":"bg-red-500/20 text-red-600"),children:"pending"===e.status?"Pendiente":"approved"===e.status?"Aprobado":"Rechazado"})]}),e.message&&(0,t.jsxs)("div",{className:"mb-3 p-3 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"De:"})," ",e.message.sender," → ",(0,t.jsx)("strong",{children:"Para:"})," ",e.message.receiver]}),(0,t.jsx)("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:new Date(e.message.createdAt).toLocaleString()})]}),(0,t.jsxs)("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:['"',e.message.content,'"']})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Motivo del reporte:"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.reason})]}),"pending"===e.status?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>resolveMessageReport(e.id,"approve"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,t.jsx)(n._rq,{size:12}),"Aprobar"]}),(0,t.jsxs)("button",{onClick:()=>resolveMessageReport(e.id,"delete_message"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,t.jsx)(n.Ybf,{size:12}),"Eliminar Mensaje"]}),(0,t.jsxs)("button",{onClick:()=>resolveMessageReport(e.id,"reject"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-300 hover:scale-105 flex items-center gap-1",style:{backgroundColor:"rgba(107, 114, 128, 0.1)",color:"#6b7280",border:"1px solid rgba(107, 114, 128, 0.2)"},children:[(0,t.jsx)(n.$Rx,{size:12}),"Rechazar"]})]}):(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Resuelto por ",e.resolvedBy," • ",new Date(e.resolvedAt).toLocaleString(),e.adminReason&&(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("strong",{children:"Motivo:"})," ",e.adminReason]})]})]},e.id))})]}),"email-logs"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20",children:(0,t.jsx)(n.Imn,{size:18,className:"text-green-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Logs de Email de Soporte"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Monitorea qui\xe9n copia el email de soporte y cu\xe1ndo"})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:0===k.length?(0,t.jsxs)("div",{className:"text-center py-8",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)(n.Imn,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No hay logs de email a\xfan"})]}):k.map(e=>{var s,r,a;return(0,t.jsxs)("div",{className:"rounded-xl p-4 border transition-all duration-300 hover:scale-[1.01]",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 rounded-lg bg-green-500/20",children:(0,t.jsx)(n.Imn,{size:14,className:"text-green-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",style:{color:"var(--text-primary)"},children:"Email copiado"}),(0,t.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(e.createdAt).toLocaleString()})]})]}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-lg text-xs font-medium bg-green-500/20 text-green-600",children:"Registrado"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"Usuario:"})," ",e.user||"An\xf3nimo"]}),(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"IP:"})," ",e.ip]}),(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"URL:"})," ",e.url]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"Navegador:"})," ",(null===(s=e.additionalInfo)||void 0===s?void 0:s.platform)||"N/A"]}),(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"Idioma:"})," ",(null===(r=e.additionalInfo)||void 0===r?void 0:r.language)||"N/A"]}),(0,t.jsxs)("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("strong",{children:"Resoluci\xf3n:"})," ",(null===(a=e.additionalInfo)||void 0===a?void 0:a.screen)?"".concat(e.additionalInfo.screen.width,"x").concat(e.additionalInfo.screen.height):"N/A"]})]})]}),e.userAgent&&(0,t.jsxs)("div",{className:"mt-3 p-2 rounded-lg text-xs font-mono",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-tertiary)"},children:[(0,t.jsx)("strong",{children:"User Agent:"})," ",e.userAgent]})]},e.id)})})]}),"announcements"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/20",children:(0,t.jsx)(n.vWP,{size:18,className:"text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Gesti\xf3n de Anuncios"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Crea y gestiona anuncios para los usuarios"})]})]}),(0,t.jsx)(components_AnnouncementManager,{})]}),"iplogs"===g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20",children:(0,t.jsx)(n.RsK,{size:18,className:"text-purple-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Logs de IP y Seguridad"}),(0,t.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Monitorea IPs, detecta VPNs y analiza patrones de acceso"})]})]}),(0,t.jsx)(IPLogsPanel,{})]})]}),x&&(0,t.jsx)(d.Z,{onClose:()=>m(!1),onLogin:e=>{r(e),m(!1)}}),S&&(0,t.jsx)(UserDetailsModal,{username:S,onClose:()=>z(null),onBanUser:e=>{banUser(e),z(null)},onUnbanUser:e=>{unbanUser(e),z(null)}})]})}},1163:function(e,s,r){e.exports=r(9974)}},function(e){e.O(0,[415,917,66,435,774,888,179],function(){return e(e.s=577)}),_N_E=e.O()}]);