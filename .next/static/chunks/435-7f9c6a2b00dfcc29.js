"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{7435:function(e,r,a){a.d(r,{Z:function(){return Layout}});var t=a(5893),o=a(7294),s=a(1664),n=a.n(s),l=a(5675),i=a.n(l),d=a(6893),c=a(7735),u=a(5380),m=a(1955);function Layout(e){let{children:r,user:a,onLogin:s,onLogout:l}=e,{theme:x,toggleTheme:p}=(0,u.F)(),[g,h]=(0,o.useState)(!1),[f,y]=(0,o.useState)(0),[b,v]=(0,o.useState)(!1),fetchUnreadCount=async()=>{if(a)try{let e=m.Z.get("token");if(!e)return;let r=await fetch("https://api.tusecreto.net/api/messages/unread-count",{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();y(e.unreadCount)}}catch(e){console.error("Error fetching unread count:",e)}};(0,o.useEffect)(()=>{if(!a){y(0);return}fetchUnreadCount();let e=setInterval(fetchUnreadCount,3e4);return()=>clearInterval(e)},[a]);let logEmailCopy=async()=>{try{let e=m.Z.get("token"),r=m.Z.get("username"),a={action:"support_email_copied",userAgent:navigator.userAgent,timestamp:new Date().toISOString(),url:window.location.href,user:r||null,additionalInfo:{language:navigator.language,platform:navigator.platform,screen:{width:screen.width,height:screen.height},viewport:{width:window.innerWidth,height:window.innerHeight}}},t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e)),await fetch("https://api.tusecreto.net/api/admin/log-email-copy",{method:"POST",headers:t,body:JSON.stringify(a)}),console.log("\uD83D\uDCE7 Email copy logged successfully")}catch(e){console.error("Error logging email copy:",e)}},showWarning=async()=>{await logEmailCopy(),v(!0),setTimeout(()=>{v(!1)},8e3)};return(0,o.useEffect)(()=>{let handleCopy=e=>{let r=window.getSelection(),a=null==r?void 0:r.toString().trim();a&&a.includes("soporte@tusecreto.net")&&(e.preventDefault(),navigator.clipboard.writeText("soporte@tusecreto.net").then(()=>{showWarning()}).catch(()=>{showWarning()}))};return document.addEventListener("copy",handleCopy),()=>{document.removeEventListener("copy",handleCopy)}},[]),(0,t.jsxs)("div",{className:"min-h-screen transition-colors duration-300",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[(0,t.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 border-b backdrop-blur-sm",style:{backgroundColor:"dark"===x?"rgba(0, 0, 0, 0.95)":"rgba(255, 255, 255, 0.95)",borderColor:"dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)(n(),{href:"/",className:"flex items-center",children:(0,t.jsx)(i(),{src:"dark"===x?"/tusecreto.png":"/tusecreto-negro.png",alt:"TuSecreto",width:100,height:35,className:"h-8 w-auto",priority:!0,quality:100})}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:p,className:"p-2 rounded-md transition-colors duration-200","aria-label":"dark"===x?"Cambiar a tema claro":"Cambiar a tema oscuro",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"dark"===x?(0,t.jsx)(d.kXG,{size:18}):(0,t.jsx)(d.wOW,{size:18})}),a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{href:"/messages",className:"relative flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.EQ9,{size:16}),(0,t.jsx)("span",{children:"Mensajes"}),f>0&&(0,t.jsx)("span",{className:"ml-1 bg-red-500 text-white text-xs rounded-full px-2 py-0.5 min-w-[20px] text-center",children:f>99?"99+":f})]}),(0,t.jsxs)(n(),{href:"/profile",className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.fzv,{size:16}),(0,t.jsx)("span",{children:a})]}),"admin"===a&&(0,t.jsxs)(n(),{href:"/admin",className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"dark"===x?"#fbbf24":"#d97706"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(251, 191, 36, 0.1)":"rgba(217, 119, 6, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.bfl,{size:16}),(0,t.jsx)("span",{children:"Admin"})]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700"}),(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"dark"===x?"#f87171":"#dc2626"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(248, 113, 113, 0.1)":"rgba(220, 38, 38, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.xqh,{size:16}),(0,t.jsx)("span",{children:"Salir"})]})]}):(0,t.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{backgroundColor:"dark"===x?"#ffffff":"#000000",color:"dark"===x?"#000000":"#ffffff"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"#e5e5e5":"#374151"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="dark"===x?"#ffffff":"#000000"},children:"Iniciar Sesi\xf3n"})]}),(0,t.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:p,className:"p-2 rounded-md transition-colors duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"dark"===x?(0,t.jsx)(d.kXG,{size:18}):(0,t.jsx)(d.wOW,{size:18})}),(0,t.jsx)("button",{onClick:()=>h(!g),className:"p-2 rounded-md transition-colors duration-200","aria-label":g?"Cerrar men\xfa":"Abrir men\xfa",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:g?(0,t.jsx)(d.q5L,{size:20}):(0,t.jsx)(d.cur,{size:20})})]})]})}),g&&(0,t.jsx)("div",{className:"md:hidden border-t",style:{borderColor:"dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:(0,t.jsx)("div",{className:"px-4 py-3 space-y-1",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{href:"/messages",onClick:()=>h(!1),className:"flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.EQ9,{size:18}),(0,t.jsx)("span",{children:"Mensajes"}),f>0&&(0,t.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-0.5 min-w-[20px] text-center",children:f>99?"99+":f})]}),(0,t.jsxs)(n(),{href:"/profile",onClick:()=>h(!1),className:"flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"var(--text-primary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.fzv,{size:18}),(0,t.jsx)("span",{children:a})]}),"admin"===a&&(0,t.jsxs)(n(),{href:"/admin",onClick:()=>h(!1),className:"flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{color:"dark"===x?"#fbbf24":"#d97706"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(251, 191, 36, 0.1)":"rgba(217, 119, 6, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.bfl,{size:18}),(0,t.jsx)("span",{children:"Panel Admin"})]}),(0,t.jsx)("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),(0,t.jsxs)("button",{onClick:()=>{l(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 w-full text-left",style:{color:"dark"===x?"#f87171":"#dc2626"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"rgba(248, 113, 113, 0.1)":"rgba(220, 38, 38, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,t.jsx)(d.xqh,{size:18}),(0,t.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]}):(0,t.jsx)("button",{onClick:()=>{s(),h(!1)},className:"w-full px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",style:{backgroundColor:"dark"===x?"#ffffff":"#000000",color:"dark"===x?"#000000":"#ffffff"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="dark"===x?"#e5e5e5":"#374151"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="dark"===x?"#ffffff":"#000000"},children:"Iniciar Sesi\xf3n"})})})]}),(0,t.jsx)("main",{className:"pt-16",children:r}),(0,t.jsx)("footer",{className:"border-t mt-auto transition-colors duration-300",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center text-sm space-y-4",style:{color:"var(--text-secondary)"},children:[(0,t.jsx)("p",{children:"TuSecreto est\xe1 hosteado en servidores especializados en anonimato y privacidad."}),(0,t.jsx)("div",{className:"flex justify-center items-center gap-4",children:(0,t.jsxs)("button",{className:"group relative flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden",style:{background:"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",color:"#ffffff"},onClick:()=>{window.open("https://discord.gg/wy5s5tkZ","_blank")},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/10 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"relative z-10 p-1 rounded-lg group-hover:scale-110 transition-transform duration-300",children:(0,t.jsx)(c.Mqf,{size:22,className:"drop-shadow-lg"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"font-semibold text-sm tracking-wide",children:"Discord"}),(0,t.jsx)("div",{className:"text-xs opacity-80 group-hover:opacity-100 transition-opacity duration-300",children:"\xdanete a la comunidad"})]}),(0,t.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:[(0,t.jsx)("div",{className:"absolute top-1 left-1 w-1 h-1 bg-white rounded-full animate-pulse"}),(0,t.jsx)("div",{className:"absolute top-3 right-2 w-0.5 h-0.5 bg-white rounded-full animate-pulse delay-300"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-3 w-0.5 h-0.5 bg-white rounded-full animate-pulse delay-500"})]})]})}),(0,t.jsxs)("p",{className:"pt-2",children:[(0,t.jsx)(n(),{href:"/terms",className:"hover:underline transition-all duration-300",style:{color:"var(--text-primary)"},children:"T\xe9rminos y Condiciones"})," • ",(0,t.jsx)(n(),{href:"/privacy",className:"hover:underline transition-all duration-300",style:{color:"var(--text-primary)"},children:"Pol\xedtica de Privacidad"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[(0,t.jsx)("p",{className:"text-xs mb-3",style:{color:"var(--text-tertiary)"},children:"Para reportes y soporte t\xe9cnico:"}),(0,t.jsxs)("div",{className:"inline-block",children:[(0,t.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText("soporte@tusecreto.net").then(()=>{showWarning()}).catch(e=>{console.error("Error copiando email:",e),showWarning()})},className:"group relative px-4 py-2 rounded-lg border transition-all duration-300 hover:scale-105 hover:shadow-lg",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},title:"Haz clic para copiar el email",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 opacity-60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"font-mono text-sm font-medium select-all",children:"soporte@tusecreto.net"}),(0,t.jsx)("svg",{className:"w-4 h-4 opacity-60 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg"})]}),(0,t.jsx)("p",{className:"text-xs mt-2 opacity-70",style:{color:"var(--text-tertiary)"},children:"Haz clic o selecciona para copiar"})]})]})]})})}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[99999] p-4",children:(0,t.jsx)("div",{className:"rounded-xl p-6 max-w-lg w-full border shadow-2xl",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mx-auto",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:(0,t.jsx)("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Email copiado - Advertencia Legal"}),(0,t.jsx)("div",{className:"text-sm leading-relaxed mb-6",style:{color:"var(--text-secondary)"},children:(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-left",children:[(0,t.jsx)("p",{className:"font-medium text-red-800 dark:text-red-300",children:(0,t.jsx)("strong",{children:"AVISO IMPORTANTE:"})}),(0,t.jsx)("p",{className:"mt-2 text-red-700 dark:text-red-400",children:"Toda acusaci\xf3n ser\xe1 investigada en profundidad. En caso de detectarse pruebas de conductas il\xedcitas por parte del denunciante, estas ser\xe1n entregadas de forma inmediata a las autoridades competentes, sin excepci\xf3n."})]})}),(0,t.jsx)("button",{onClick:()=>v(!1),className:"px-6 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105",style:{backgroundColor:"var(--accent-primary)",color:"var(--text-on-accent)"},children:"Entendido"})]})})})]})}}}]);